{% extends "layout.html" %}

{% block script %}
 <script type="text/javascript">
    function check_username( thisObj )
    {
        if (!document.getElementById("log_username").checkValidity())
        {
            thisObj.value = ""
            thisObj.placeholder = "Invalid username"
            thisObj.style.border = "2px solid red"
            thisObj.style.setProperty("--c", "red")
            thisObj.classList.add('error')
        }
        else
            thisObj.style.border = "none"
    }

    function check_password( thisObj )
    {
        if (!document.getElementById("log_password").checkValidity())
        {
            thisObj.value = ""
            thisObj.placeholder = "Invalid password"
            thisObj.style.border = "2px solid red"
            thisObj.style.setProperty("--c", "red")
            thisObj.classList.add('error')
        }
        else
            thisObj.style.border = "none"
    }

</script>
{% endblock %}

{% block title %}
    Log In
{% endblock %}

{% block section %}
    <form action="/login" method="post" class="login">
        <h1>Log in</h1>
        <div class="mb-3">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="log_username" name="username" placeholder="Username" type="text" pattern="[a-zA-Z].{3,}" onchange="check_username(this)">
        </div>
        <div class="mb-3">
            <input class="form-control mx-auto w-auto" id="log_password" name="password" placeholder="Password" type="password">
        </div>
        <button class="btn btn-primary" id="submit" type="submit">Log In</button>
        <p>Not Registered? <span><a href="/register">Sign Up Here</a></p></span>
    </form>
{% endblock %}
